<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href='../static/css/jquery-ui.min.css'>
    <link rel="stylesheet" href='../static/css/font-awesome.min.css'>
    <style>
      body{
        overflow: visible;
      }
      .centered-text{
        margin: auto;
        text-align: center;
      }
      .centered{
        display: block
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <div class='container'>
        <div id='loading' class='row' style='text-align: center; margin-top: 150px;'>
          <div class="col-md-10 col-md-offset-1">
            <div class="progress">
              <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
            </div>
            <span id='loading-step-1'><h1>Loading databases...</h1></span>
            <span id='loading-step-2' style='display: none'><h1>Getting matchlist...</h1></span>
          </div>
        </div>
    </div>
  </body>

  <script>
    window.$ = window.jQuery = require('../static/js/jquery-3.2.0.min.js');
  </script>
  <script src='../static/js/jquery-ui.min.js'></script>
  <script src='../static/js/bootstrap.min.js'></script>
  <script>
    ipcRenderer = require("electron").ipcRenderer
    screen_height = require("electron").remote.screen.getPrimaryDisplay().workAreaSize.height
    $(document).ready(function(){
      ipcRenderer.send("pageLoaded");
      //$("#loading").css("margin-top", (screen_height/2) + "px");
    })
    ipcRenderer.once('loadingDatabasesFinished', function(){
      $("#loading-step-1").hide();
      $("#loading-step-2").show();
    })
    ipcRenderer.once('loadingMatchlistFinished', function(){
      $("#loading").hide();
    })
  </script>
</html>
